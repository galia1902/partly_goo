
<div class="dash-container">
  <div class="dash-header">
    <p><% current_user.nil? ? "Not Logged In" : current_user.username.capitalize %></p>
  </div>
  <div class="dash-inner-container">
    <div>
      <div class="dash-headline-container ">
        <div class="dash-logo"></div>
        <div class="dash-headline">Dashboard</div>
      </div>
    </div>

    <div class="dash-options dash-text">

      <div class="d-flex justify-content-center">
        <div class="dash-profile-container" style=" border: 5px solid <%= @color %>; ">
          <div class="d-flex justify-content-between">
            <p>Username</p>
            <%= current_user.username %>
          </div>
          <div class="d-flex justify-content-between">
           <p>Games played</p>
           <%= current_user.games.count %>
         </div>
       </div>
     </div>

     <!-- Games 'gallery'  -->
     <div class="dash-games-container">
      <% if @games[0].nil? %>
      <div class="container d-flex align-items-center justify-content-center h-100">
        <p>no games played yet</p>

      </div>
      <% else %>
      <% @games.each do |game| %>
        <% if game.game_mode == "MCQ" %>
          <a class="pill dash-pill d-flex justify-content-center" href="/games/<%= game.id %>/score" style="background-color: <%= ["#4688F1","#E8453C","#FABB2D","#3AA757"].sample %>;"><%= game.game_mode %></a>
        <% else %>
          <a class="pill dash-pill d-flex justify-content-center" href="/games/<%= game.id %>/game" style="background-color: <%= ["#4688F1","#E8453C","#FABB2D","#3AA757"].sample %>;"><%= game.game_mode %></a>
        <% end %>
      <% end %>
      <% end %>

    </div>


  </div>

  <%= link_to "Back to Menu", root_path, class: 'text-dark pill d-flex justify-content-center' %>

</div>
</div>


<script>
  let my_body = document.querySelector('body')
  const changeBodyBackgroundColor = () => {
    my_body.style.background = '#F8F9FA'
  }
  changeBodyBackgroundColor();
</script>

